<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
    실시간 검색어 미리보기
    1. 검색어 input에 글자를 입력하면 아래에 "실시간 미리보기"를 준다
    2. 아래에 최근에 검색어 목록이 있고, 항목을 클릭하면 input에 해당 검색어가 다시 채워진다
    3. 최근 검색어 리스트는 나중에 동저긍로 계속 추가되지만, 이벤트는 한번만 걸고싶다
    -->
    <input id="search-input" placeholder="검색어를 입력하세요">
    <p id="preview">검색어 미리보기 : (없음)</p>
    <h3>최근 검색어</h3>
    <ul id="recent-list">
        <!-- 예 :   <li>React</li> 이런 형태로 계속 추가된다고 가정 -->
    </ul>
    <button id="add-recent">현재 검색어를 최근 검색어에 추가</button>

    
    <script>
        const input = document.querySelector("#search-input");
        const preview = document.querySelector("#preview");
        const recentList = document.querySelector("#recent-list");
        const addRecent = document.querySelector("#add-recent");

        search.addEventListener('input', function(){
            const value = event.target.value.trim();

            if(value === ''){
                preview.textContent = `검색어 미리보기 : (없음)`;
            }else {
                preview.textContent = `검색어 미리보기 : ${value}`;
            }
        });

        addRecent.addEventListener('click', function(){
            if(value === '') return;

            const li = document.createElement(`li`);
            li.textContent = value;
            recentList.prepend(li);
        }) ;

        // 최근 검색어 목록 클릭 시 
        recentList.addEventListener('click', function(event){
            const li = event.target.closest('li');
            if(!li) return;

            const keyword = li.textContent;
            input.value = keyword;

            preview.textContent = `검색어 미리보기 : ${kewyord}`;
        }) ;
    </script>
</body>
</html>